# Selecting statistical tests  

## A foray into statistics  

We've talked about data types, describing data, and basic hypothesis testing. This week we are applying concepts from the last tutorial to select (and run) a statistical analysis. When conducting an analysis, a dataset will contain one or more **response variables** (aka *y-variables*, dependent variables) and one or more **explanatory variables** (aka *x-variables*, independent variables). Explanatory variables are used to explain variation in response variables.  

The type of both the explanatory and response variables determines which statistical test we use. Selecting the right test is important because it ensures that we‚Äôre asking a question our data can actually answer.  

---

## Pick the explanatory and response variable  

Imagine that we want to identify areas that support high numbers of plants from the genus *Mitella*. We hypothesize that *Mitella* occurrence is positively related to water supply (i.e., the number of *Mitella* plants goes up as water availability increases).  

**Answer**  

1. **Response Variable (Y)**: Number of *Mitella* plants in a specific area (continuous count data).  
2. **Explanatory Variable (X)**: Water availability (continuous).  

In this case, both the explanatory and response variables are continuous, so we might test their relationship using a **correlation** or **linear regression**.  

---

## Variable types refresher  

| Variable Type | Examples | Notes |
|---------------|----------|-------|
| **Categorical (nominal)** | Species identity, treatment group (control vs. watered) | Categories with no natural order |
| **Categorical (ordinal)** | Low/medium/high shade | Ordered categories |
| **Continuous** | Height, biomass, rainfall (measured on a scale) | Quantitative, can take on many values |
| **Count** | Number of seedlings, number of visits by a pollinator | Discrete values (0, 1, 2, ‚Ä¶), often treated separately in statistics |  

---

## More examples  

### Example 1: Categorical explanatory ‚Üí continuous response  
- **Question**: Do soil nitrogen levels differ between burned vs. unburned plots?  
- **Test**: Two-sample *t-test* (or Mann‚ÄìWhitney if data are non-normal).  

### Example 2: Categorical explanatory ‚Üí categorical response  
- **Question**: Is survival (alive vs. dead) related to treatment (control vs. watered)?  
- **Test**: *Chi-square test of independence*.  

### Example 3: Continuous explanatory ‚Üí continuous response  
- **Question**: Does plant biomass increase with light availability?  
- **Test**: *Linear regression*.  

---

## The decision matrix  

Below is a simple decision matrix for selecting statistical analyses.  

![](images/04-selectingstatisticaltests/DecisionMatrix.png)  

**How to use it:**  
1. Identify your explanatory and response variables.  
2. Decide whether each is categorical, continuous, or count.  
3. Follow the matrix to the test.  

*Example*: In the *Mitella* case, the matrix points toward regression. For the soil nitrogen example, the matrix suggests a t-test.  

---

## A note on assumptions  

Choosing a test is only step one. Most tests also have **assumptions** (e.g., data are normally distributed, groups have equal variance, observations are independent). If assumptions are not met, we either transform the data or use a non-parametric alternative. We‚Äôll dive into this more in upcoming tutorials.  

---

## Learning goals  

By the end of this module, you should be able to:  

- Correctly identify explanatory and response variables.  
- Match data types to the appropriate statistical test.  
- Begin to evaluate whether assumptions are met.  

## Downloads for this class

- [Download the R file](https://drive.google.com/uc?export=download&id=14tBsHZx8ZBXV-Gf1sxKG_jiNAXwu94dm)

## Selecting statistical analyses

Below, you will see a very simple decision matrix for selecting statistical analyses. Let's walk through how to use it to select statistical tests.  

![](images/04-selectingstatisticaltests/DecisionMatrix.png)

### Using the decision matrix

**How to use it:**  
1. Identify your explanatory and response variables.  
2. Decide whether each is categorical, continuous, or count.  
3. Follow the matrix to the test.  

*Example*: In the *Mitella* case, the matrix points toward regression. For the soil nitrogen example, the matrix suggests a t-test.  

**Both variables are categorical**: Use a G-test (or chi-square test) to see if the frequency of categorical outcomes differs across categories of the explanatory variable.
**Example**: If we were studying whether *Mitella* plants are found more frequently in shaded vs. sunny areas (categorical), we would use a G-test.

**Explanatory variable is categorical, response variable is continuous**: Use a t-test (or ANOVA for more than two categories).
**Example**: If water availability is grouped into categories (e.g., ‚Äúlow,‚Äù ‚Äúmedium,‚Äù ‚Äúhigh‚Äù) and you want to test its effect on *Mitella* abundance (continuous response variable), a t-test or ANOVA would be appropriate.

**Note**: ANOVA or ANalysis Of VAriance is just like a t-test except you are comparing more than 2 groups, in this example we would use an ANOVA for comparing  ‚Äúlow,‚Äù ‚Äúmedium,‚Äù ‚Äúhigh‚Äù watering regimes, but a t-test for testing "watered" vs "not watered".

**Explanatory variable is continuous, response variable is continuous**: Use linear regression.
**Example**: If you measured the amount of water in milliliters and counted the number of Mitella plants, linear regression could help determine the relationship between water availability and Mitella abundance.

**Explanatory variable is continuous, response variable is categorical**: Use logistic regression.
**Example**: If you‚Äôre modeling the presence or absence of Mitella plants (categorical response) based on continuous water availability, logistic regression is the correct choice.

## Statistical tests 

Let's practice these statistical tests in R (these examples are preloaded in your R file)!  

### G-test (Categorical Response and Categorical Explanatory Variable)

Scenario: You are studying bird nest preferences in a forest. You want to know if birds prefer nesting in different tree species (oak, pine, or maple).

	‚Ä¢	Response variable: Nest presence (Yes/No)
	‚Ä¢	Explanatory variable: Tree species (oak, pine, maple)
	
Run the code in R.

### t-test and ANOVA (Continuous Response and Categorical Explanatory Variable)

#### t-test
Scenario: You want to compare the weight of two species of frogs (Species A and Species B) to see if there‚Äôs a significant difference in weight between them.

	‚Ä¢	Response variable: Frog weight (grams)
	‚Ä¢	Explanatory variable: Species (A or B)
	
#### ANOVA (Continuous Response and Categorical Explanatory Variable with More Than Two Categories)

Scenario: You are studying the growth of plants in three different habitats: Desert, Forest, and Wetland. You want to compare plant height across these habitats.

	‚Ä¢	Response variable: Plant height (cm)
	‚Ä¢	Explanatory variable: Habitat (Desert, Forest, Wetland)

### Linear Regression (Continuous Response and Continuous Explanatory Variable)

Scenario: You are studying how the number of fish in a river changes with water temperature. You want to model the relationship between water temperature (¬∞C) and fish count.

	‚Ä¢	Response variable: Fish count
	‚Ä¢	Explanatory variable: Water temperature (¬∞C)
	
### 5. Logistic Regression (Categorical Response and Continuous Explanatory Variable)

Scenario: You want to study the probability of a specific bird species‚Äô presence in different areas based on elevation. The response is whether the bird is present or absent.

	‚Ä¢	Response variable: Bird presence (Yes/No)
	‚Ä¢	Explanatory variable: Elevation (meters)

## Assignment: Choosing and Running the Right Test

Next, let's practice on your own.

For each scenario:

	1.	Read the description carefully.
	2.	Decide which statistical test is most appropriate.
	3.	Modify the code from the examples we‚Äôve covered in class to run the test in R.
	4.	Interpret the output using proper results statements.

‚∏ª

#### Scenario 1: Comparing Two Groups

A biologist measures the leaf nitrogen content (%) in plants from two different habitats: Sunny vs. Shady. 

üëâ Question: What test should you use to compare nitrogen between habitats?

#### Scenario 2: More Than Two Groups

An ecologist measures the average number of pollinator visits to flowers of three species: Aster, Goldenrod, and Sunflower.

üëâ Question: What test should you use to compare mean visits among these three species?

#### Scenario 3: Relationship Between Two Variables

A forester records tree diameter (cm) and age (years) for a sample of trees.

üëâ Question: What test should you use to test whether tree diameter predicts age?

#### Scenario 4: Categorical Data

A conservationist records whether birds are Present or Absent at two sites: Restored and Unrestored.

üëâ Question: What test should you use to see if bird presence differs between restored and unrestored sites?

### Deliverables 

For each of the 4 scenarios above, run the appropriate statistical test, and provide:

1. Results statements including:

  - The correct test statistics

2. Associated figures with correct figure legends.



